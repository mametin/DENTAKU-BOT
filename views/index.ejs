<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«èª¿æ•´</title>
    <style>
        /* ã‚¹ã‚¿ã‚¤ãƒ«ã¯é©å®œèª¿æ•´ã—ã¦ãã ã•ã„ */
        body { font-family: sans-serif; padding: 20px; background-color: #f4f6f8; }
        .container { max-width: 900px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 10px; text-align: center; }
        th { background-color: #5865F2; color: white; }
        .count-ok { color: #2e7d32; font-weight: bold; font-size: 1.2em; }
        .count-zero { color: #c62828; font-weight: bold; }
        
        /* è¨˜å·ã”ã¨ã®è‰²åˆ†ã‘ */
        .mark-ã€‡ { color: #2e7d32; }
        .mark-â–³ { color: #f9a825; }
        .mark-Ã— { color: #c62828; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“… æ—¥ç¨‹èª¿æ•´çŠ¶æ³</h1>
        
        <% if (items && items.length > 0) { %>
            <table>
                <thead>
                    <tr>
                        <th>æ—¥ä»˜</th>
                        <th>ç©ºãäººæ•°</th>
                        <% items[0].users.forEach(function(user) { %>
                            <th><%= user %></th>
                        <% }); %>
                    </tr>
                </thead>
                <tbody>
                    <% items.forEach(function(item) { %>
                        <tr>
                            <td><%= item.date %></td>
                            
                            <td class="<%= item.count > 0 ? 'count-ok' : 'count-zero' %>">
                                <%= item.count %>äºº
                            </td>

                            <% item.users.forEach(function(user) { %>
                                <% const mark = item.details[user]; %>
                                <td class="mark-<%= mark %>"><%= mark || '-' %></td>
                            <% }); %>
                        </tr>
                    <% }); %>
                </tbody>
            </table>
        <% } else { %>
            <p>ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>
        <% } %>
    </div>
</body>
</html>