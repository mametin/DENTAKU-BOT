<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«èª¿æ•´</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background-color: #f4f6f8; }


       .container { 
            /* å¹…ã®åˆ¶é™ã‚’ãªãã—ã€ç”»é¢å¹…ã«åˆã‚ã›ã‚‹ï¼ˆä½™ç™½ã¯paddingã§ç¢ºä¿ï¼‰ */
            width: 100%; 
            margin: 0 auto; 
            background: white; 
            padding: 20px; 
            border-radius: 8px; 
            /* ã¯ã¿å‡ºã•ãªã„ã‚ˆã†ã«è¨­å®š */
            box-sizing: border-box; 
        }

        /* â–¼â–¼â–¼ è¿½åŠ ãƒ»å¤‰æ›´ã—ãŸéƒ¨åˆ† â–¼â–¼â–¼ */
        
        /* è¡¨ã‚’å›²ã‚€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç”¨ã‚¨ãƒªã‚¢ */
        .table-wrapper {
            width: 100%;       /* è¦ªè¦ç´ ã„ã£ã±ã„ã«åºƒã’ã‚‹ */
            overflow-x: auto;  /* æ¨ªã«ã¯ã¿å‡ºãŸã‚‰ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’å‡ºã™ */
            margin-top: 20px;  /* ä¸Šã®éš™é–“ */
        }

        table { 
            border-collapse: collapse; 
            /* width: 100% ã‚’å‰Šé™¤ã—ã€ä¸­èº«ã«åˆã‚ã›ã¦åºƒãŒã‚‹ã‚ˆã†ã«å¤‰æ›´ */
        }

        th, td { 
            border: 1px solid #ddd; 
            padding: 10px; 
            text-align: center;
            
            /* â–¼ ã‚»ãƒ«ã®ã‚µã‚¤ã‚ºã‚’å›ºå®šã™ã‚‹é‡è¦ãªè¨­å®š â–¼ */
            min-width: 80px;      /* 1ã¤ã®ãƒã‚¹ã¯æœ€ä½ã§ã‚‚80pxç¢ºä¿ã™ã‚‹ï¼ˆã“ã‚Œä»¥ä¸Šç¸®ã¾ãªã„ï¼‰ */
            white-space: nowrap;  /* æ–‡å­—ã‚’å‹æ‰‹ã«æ”¹è¡Œã•ã›ãªã„ */
        }

        /* æ—¥ä»˜åˆ—ã ã‘å°‘ã—åºƒãã—ãŸã„å ´åˆï¼ˆå¿…è¦ãªã‚‰èª¿æ•´ï¼‰ */
        th:first-child, td:first-child {
            min-width: 120px;
        }

        /* â–²â–²â–² ã“ã“ã¾ã§ â–²â–²â–² */

        th { background-color: #5865F2; color: white; position: sticky; left: 0; } /* ãŠã¾ã‘ï¼šå·¦ç«¯å›ºå®šè¨­å®šã‚‚å¯èƒ½ã§ã™ãŒä»Šå›ã¯ã‚·ãƒ³ãƒ—ãƒ«ã«ã—ã¾ã™ */
        
        .count-ok { color: #2e7d32; font-weight: bold; font-size: 1.2em; }
        .count-zero { color: #c62828; font-weight: bold; }
        
        /* è¨˜å·ã”ã¨ã®è‰²åˆ†ã‘ */
        .mark-ã€‡ { color: #2e7d32; }
        .mark-â–³ { color: #f9a825; }
        .mark-â–½ { color: #f9a825; }
        .mark-â–¡ { color: #1976d2; font-weight: bold; }
        .mark-Ã— { color: #c62828; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“… æ—¥ç¨‹èª¿æ•´çŠ¶æ³</h1>
        
        <% if (items && items.length > 0) { %>
            <table>
                <thead>
                    <tr>
                        <th>æ—¥ä»˜</th>
                        <th>ç©ºãäººæ•°</th>
                        <% items[0].users.forEach(function(user) { %>
                            <th><%= user %></th>
                        <% }); %>
                    </tr>
                </thead>
                <tbody>
                    <% items.forEach(function(item) { %>
                        <tr>
                            <td><%= item.date %></td>
                            
                            <td class="<%= item.count > 0 ? 'count-ok' : 'count-zero' %>">
                                <%= item.count %>äºº
                            </td>

                            <% item.users.forEach(function(user) { %>
                                <% const mark = item.details[user]; %>
                                <td class="mark-<%= mark %>"><%= mark || '-' %></td>
                            <% }); %>
                        </tr>
                    <% }); %>
                </tbody>
            </table>
        <% } else { %>
            <p>ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>
        <% } %>
    </div>
</body>
</html>